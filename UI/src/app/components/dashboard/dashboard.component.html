
<div id="report">

    
    <button id="sync-button" (click)="openModal()">
        SYNC <img src="assets/cloud-sync.png" alt="Sync Icon">
    </button>

    <!-- Div where Handlebars will insert the generated content -->
    <div id="display">
    </div>


    <div class="modal" *ngIf="showModal">
        <p>inside showModal</p>
        <div class="modal-content">
            <span class="close" (click)="closeModal()">&times;</span>
            <h2>Select Time Interval</h2>

            <mat-slide-toggle [(ngModel)]="isDateRangeSelected" (change)="onToggleChange($event)">
                Select Date Range
              </mat-slide-toggle>
        
              <div *ngIf="isDateRangeSelected">
            <mat-form-field>
                <mat-label>Enter a date range</mat-label>
                <mat-date-range-input [formGroup]="range" [rangePicker]="picker">
                  <input matStartDate formControlName="start" placeholder="Start date">
                  <input matEndDate formControlName="end" placeholder="End date">
                </mat-date-range-input>
                <mat-hint>MM/DD/YYYY â€“ MM/DD/YYYY</mat-hint>
                <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-date-range-picker #picker></mat-date-range-picker>
              
                @if (range.controls['start'].hasError('matStartDateInvalid')) {
                  <mat-error>Invalid start date</mat-error>
                }
                @if (range.controls['end'].hasError('matEndDateInvalid')) {
                  <mat-error>Invalid end date</mat-error>
                }
                <input matInput type="datetime-local" placeholder="start date">
              </mat-form-field>
              
              <p>Selected range: {{range.value | json}}</p>
              </div>

            <div *ngIf="!isDateRangeSelected">
            <button (click)="selectOption(1)">Last 1 Hour</button>
            <button (click)="selectOption(2)">Last 2 Hours</button>
            <button (click)="selectOption(3)">Last 3 Hours</button>
            </div>

            <button (click) = "callApi()">Submit </button>
        </div>


        
    </div>
    <button (click)="getdownload()" *ngIf="display">Download</button>
    
</div>


<button id="logout-button" (click)="logout()">
    <span class="button-text">LOG OUT</span>
    <span class="icon"><img src="assets/exit.png" alt="logout icon"></span>
</button>


